<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Chatbot Portfolio – AWS Bedrock & FAISS</title>
  <style>
    :root{
      --bg:#f6f5fb;
      --panel:#ffffff;
      --ink:#1f2430;
      --muted:#6b7280;
      --brand:#6c5ce7;     /* primary */
      --brand-2:#ffb000;   /* accent for search button */
      --ring: rgba(108,92,231,.25);
      --radius:16px;
      --shadow:0 10px 30px rgba(17,24,39,.12);
      --chip:#f2f3fd;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--ink);
      background:var(--bg);
    }
    header{
      background: linear-gradient(135deg, #1f2937 0%, #303b54 100%);
      color:#fff;
      padding:48px 20px;
      text-align:center;
    }
    header h1{margin:0 0 6px;font-size:2rem;font-weight:700}
    header p{margin:0;opacity:.9}

    .container{
      max-width:960px;margin:32px auto;padding:24px;background:var(--panel);
      border-radius:var(--radius);box-shadow:var(--shadow)
    }
    h2{margin:0 0 12px}
    ul{margin:0 0 16px 18px}
    footer{
      text-align:center;color:#cfd3dc;background:#1f2937;padding:16px;margin-top:40px
    }

    /* FAB bubble */
    #chatbot-bubble{
      position:fixed;right:24px;bottom:24px;width:68px;height:68px;border-radius:50%;
      background:var(--brand);display:flex;align-items:center;justify-content:center;
      box-shadow:0 12px 24px rgba(108,92,231,.35);cursor:pointer;z-index:1000;
      transition:transform .15s ease, box-shadow .15s ease;
    }
    #chatbot-bubble:hover{transform:translateY(-2px);box-shadow:0 16px 30px rgba(108,92,231,.45)}
    #chatbot-bubble svg{width:34px;height:34px;fill:#fff}

    /* Popup */
    #chatbot-popup{
      position:fixed;right:24px;bottom:110px;width:380px;max-height:620px;display:none;
      background:var(--panel);border-radius:20px;box-shadow:var(--shadow);
      overflow:hidden;z-index:1000;display:none;flex-direction:column;
    }

    /* Header */
    #chatbot-header{
      background:linear-gradient(135deg,#6c5ce7 0%,#8f7cff 100%);
      color:#fff;padding:14px 16px;display:flex;align-items:center;gap:10px
    }
    .bot-avatar{
      width:36px;height:36px;border-radius:50%;background:#fff;display:grid;place-items:center;
      box-shadow:0 4px 10px rgba(0,0,0,.15)
    }
    .bot-avatar svg{width:22px;height:22px;fill:var(--brand)}
    .bot-title{font-weight:700}
    .bot-sub{font-size:.85rem;opacity:.95}

    /* Body (scroll area) */
    #chatbot-body{
      background:#f7f7fc;flex:1;overflow:auto;padding:14px 14px 6px 14px;
      display:flex;flex-direction:column;gap:10px;
    }

    /* Intro card like screenshot */
    .intro-card{
      background:#ffffff;border-radius:16px;padding:14px;border:1px solid #eef0f6;
    }
    .intro-top{display:flex;gap:10px;align-items:flex-start}
    .intro-top .round{
      width:54px;height:54px;border-radius:50%;background:#f1f0ff;display:grid;place-items:center;
    }
    .intro-top .round svg{width:30px;height:30px;fill:var(--brand)}
    .intro-text h4{margin:0 0 6px;font-size:1rem}
    .intro-text p{margin:0;color:var(--muted);font-size:.92rem;line-height:1.35}

    .section-title{margin:12px 0 8px;font-weight:600}

    .chips{
      display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:6px
    }
    .chip{
      background:var(--chip);border:1px solid #e6e8fb;color:#3a3d55;border-radius:999px;
      padding:10px 14px;text-align:center;font-weight:600;font-size:.92rem;cursor:pointer;
      transition:transform .05s ease, background .15s ease, box-shadow .15s ease;
      user-select:none;
    }
    .chip:hover{background:#eaeaFD}
    .chip:active{transform:scale(.98)}

    /* Messages */
    .message{max-width:80%;padding:10px 14px;border-radius:14px;line-height:1.45;word-wrap:break-word}
    .bot-message{align-self:flex-start;background:#ffffff;border:1px solid #edf0f7}
    .user-message{align-self:flex-end;background:#eaf1ff;border:1px solid #d9e6ff}

    /* Input dock styled like the screenshot search bar */
    #chatbot-input{
      padding:12px;border-top:1px solid #eef0f6;background:#ffffff;
    }
    .input-wrap{
      display:flex;align-items:center;gap:8px;background:#fff;border:1.5px solid #e6e8f2;
      border-radius:999px;padding:6px 8px;box-shadow:0 4px 14px rgba(17,24,39,.05)
    }
    .input-wrap:focus-within{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}
    .input-wrap svg{width:20px;height:20px;fill:#9aa1af;margin-left:4px}
    #user-input{
      border:none;outline:none;flex:1;padding:8px 2px;font-size:.95rem;background:transparent
    }
    #send-btn{
      border:none;outline:none;background:var(--brand-2);color:#1b1500;
      font-weight:700;border-radius:999px;padding:10px 14px;cursor:pointer;
      transition:filter .15s ease; box-shadow:0 6px 14px rgba(255,176,0,.35)
    }
    #send-btn:hover{filter:brightness(1.05)}

    /* Typing dots */
    .typing{display:inline-flex;gap:4px;align-items:center}
    .typing .dot{
      width:6px;height:6px;border-radius:50%;background:#c1c6d4;animation:blink 1.2s infinite ease-in-out
    }
    .typing .dot:nth-child(2){animation-delay:.15s}
    .typing .dot:nth-child(3){animation-delay:.3s}
    @keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}

    /* A11y focus */
    .chip:focus-visible, #send-btn:focus-visible, #chatbot-bubble:focus-visible{
      outline:3px solid var(--ring);outline-offset:2px
    }

    @media (max-width:480px){
      #chatbot-popup{right:12px;left:12px;width:auto;max-height:70vh}
      .chips{grid-template-columns:1fr}
    }
  </style>
</head>
<body>

<header>
  <h1>AI Chatbot Portfolio</h1>
  <p>Powered by AWS Bedrock &amp; FAISS</p>
</header>

<div class="container">
  <h2>Project Overview</h2>
  <p>
    I designed and deployed a fully functional AI-powered website chatbot capable of answering domain-specific questions with high accuracy and speed.
    This sample bot helps answer queries related to institutions and their programs.
  </p>

  <h2>Key Features</h2>
  <ul>
    <li>Real-time AI responses using AWS Bedrock Llama 3</li>
    <li>Vector-based search with FAISS for accurate document retrieval</li>
    <li>Serverless backend hosted on AWS Lambda</li>
    <li>Token-optimized responses for speed &amp; cost-efficiency</li>
    <li>Interactive chat widget with animations</li>
  </ul>

  <h2>Tech Stack</h2>
  <ul>
    <li><strong>Frontend:</strong> HTML, CSS, JavaScript</li>
    <li><strong>Backend:</strong> AWS Lambda, API Gateway, Python</li>
    <li><strong>AI Models:</strong> AWS Bedrock Llama 3 &amp; Titan Embeddings</li>
    <li><strong>Vector Store:</strong> FAISS</li>
    <li><strong>Storage:</strong> AWS S3</li>
  </ul>
</div>

<!-- Chatbot bubble -->
<button id="chatbot-bubble" aria-label="Open chat">
  <svg viewBox="0 0 24 24" aria-hidden="true">
    <path d="M12 3C6.48 3 2 6.94 2 11.8c0 2.45 1.24 4.65 3.22 6.2V22l3.49-1.9c1.02.29 2.1.45 3.29.45 5.52 0 10-3.94 10-8.8S17.52 3 12 3zm-4 9h8v2H8v-2zm0-4h8v2H8V8z"/>
  </svg>
</button>

<!-- Chatbot popup -->
<section id="chatbot-popup" role="dialog" aria-label="Chat with Herbie" aria-modal="false">
  <div id="chatbot-header">
    <div class="bot-avatar" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M12 2a3 3 0 0 1 3 3v1h1a3 3 0 0 1 3 3v3a7 7 0 1 1-14 0V9a3 3 0 0 1 3-3h1V5a3 3 0 0 1 3-3zm-4 9h2v2H8v-2zm8 0h-2v2h2v-2z"/></svg>
    </div>
    <div>
      <div class="bot-title">Herbie</div>
      <div class="bot-sub">Quest’s chatbot</div>
    </div>
  </div>

  <div id="chatbot-body">
    <!-- Intro card (like screenshot) -->
    <div class="intro-card" id="intro-card" aria-live="polite">
      <div class="intro-top">
        <div class="round" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M12 2a3 3 0 0 1 3 3v1h2a3 3 0 0 1 3 3v4a8 8 0 1 1-16 0V9a3 3 0 0 1 3-3h2V5a3 3 0 0 1 3-3z"/></svg>
        </div>
        <div class="intro-text">
          <h4>Hello, I'm Herbie, Quest’s chatbot.</h4>
          <p>I’m here to help you become an ID master. You can explore the concepts below or use the search bar to find a specific concept faster. Look only for keywords, e.g. “Storyboard”.</p>
        </div>
      </div>

      <div class="section-title">What do you want to learn about?</div>
      <div class="chips" role="list">
        <button class="chip" role="listitem" data-chip="Foundations for ID 101">Foundations for ID 101</button>
        <button class="chip" role="listitem" data-chip="Learning Methodology">Learning Methodology</button>
        <button class="chip" role="listitem" data-chip="Design Considerations">Design Considerations</button>
        <button class="chip" role="listitem" data-chip="ID Content Development">ID Content Development</button>
        <button class="chip" role="listitem" data-chip="ID Implementation">ID Implementation</button>
        <button class="chip" role="listitem" data-chip="ID Evaluation">ID Evaluation</button>
      </div>
    </div>
  </div>

  <div id="chatbot-input">
    <div class="input-wrap" role="search">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15.5 14h-.79l-.28-.27a6.471 6.471 0 1 0-1.41 1.41l.27.28v.79L20 20.5 21.5 19l-6-5zM10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>
      <input id="user-input" type="text" placeholder="Enter the concept you want to search" aria-label="Search concept"/>
      <button id="send-btn" aria-label="Send">Search</button>
    </div>
  </div>
</section>

<footer>
  &copy; 2025 Your Name – AI Chatbot Developer
</footer>

<script>
  const chatbotBubble = document.getElementById('chatbot-bubble');
  const chatbotPopup  = document.getElementById('chatbot-popup');
  const sendBtn       = document.getElementById('send-btn');
  const userInput     = document.getElementById('user-input');
  const chatbotBody   = document.getElementById('chatbot-body');
  const introCard     = document.getElementById('intro-card');

  let initialMessageSent = false;

  chatbotBubble.addEventListener('click', () => {
    const isOpen = chatbotPopup.style.display === 'flex';
    chatbotPopup.style.display = isOpen ? 'none' : 'flex';

    if (!isOpen && !initialMessageSent) {
      appendMessage('bot', "Hi! How can I help you today?");
      initialMessageSent = true;
    }
  });

  // Chips behave like pre-filled searches
  document.querySelectorAll('.chip').forEach(chip=>{
    chip.addEventListener('click', ()=>{
      const text = chip.dataset.chip || chip.textContent.trim();
      userInput.value = text;
      sendMessage();
    });
  });

  sendBtn.addEventListener('click', sendMessage);
  userInput.addEventListener('keydown', e => { if(e.key === 'Enter') sendMessage(); });

  function sendMessage(){
    const question = (userInput.value || '').trim();
    if(!question) return;

    // Hide intro after first real interaction
    if(introCard) introCard.style.display = 'none';

    appendMessage('user', question);
    userInput.value = '';

    const typingId = appendTyping();

    fetch('https://m6btv3wxjj.execute-api.eu-west-1.amazonaws.com/qa/bota-ai', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({ question })
    })
    .then(res => res.json())
    .then(data => {
      removeTyping(typingId);
      appendMessage('bot', data.answer || 'No response available.');
    })
    .catch(err => {
      removeTyping(typingId);
      appendMessage('bot', 'Sorry, something went wrong. ' + (err.message || ''));
    });
  }

  function appendMessage(sender, text){
    const el = document.createElement('div');
    el.className = `message ${sender === 'user' ? 'user-message':'bot-message'}`;
    el.innerHTML = sanitize(text);
    chatbotBody.appendChild(el);
    chatbotBody.scrollTop = chatbotBody.scrollHeight;
  }

  function appendTyping(){
    const id = 'typing-' + Math.random().toString(36).slice(2);
    const wrap = document.createElement('div');
    wrap.id = id;
    wrap.className = 'message bot-message';
    wrap.innerHTML = `<span class="typing" aria-live="polite">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </span>`;
    chatbotBody.appendChild(wrap);
    chatbotBody.scrollTop = chatbotBody.scrollHeight;
    return id;
  }
  function removeTyping(id){
    const el = document.getElementById(id);
    if(el) el.remove();
  }

  // Basic sanitizer to avoid rendering raw HTML from API
  function sanitize(str){
    return String(str)
      .replaceAll('&','&amp;')
      .replaceAll('<','&lt;')
      .replaceAll('>','&gt;')
      .replaceAll('"','&quot;')
      .replaceAll("'","&#39;")
      .replace(/\n/g,'<br/>');
  }
</script>

</body>
</html>
